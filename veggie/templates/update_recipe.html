{% extends "base.html" %}
{% block start %}
<section class="mx-auto max-w-2xl">
  <form class="rounded-2xl bg-white dark:bg-zinc-800 shadow-sm ring-1 ring-zinc-200 dark:ring-zinc-700 p-6" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <h2 class="text-xl font-semibold">Update Recipe</h2>
    <p class="text-sm text-zinc-500 mt-1">Edit the details and save your changes.</p>
    <div class="mt-5 grid gap-4">
      <div>
        <label class="text-sm font-medium">Recipe Name</label>
        <input name="recipe_name" value="{{recipe.recipe_name}}" required type="text" class="mt-1 w-full rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500" />
      </div>
      <div>
        <label class="text-sm font-medium">Recipe Description</label>
        <textarea name="recipe_description" rows="5" required class="mt-1 w-full rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500">{{recipe.recipe_description}}</textarea>
      </div>
      <div>
        <label class="text-sm font-medium">Recipe Image</label>
        <input name="recipe_image" type="file" class="mt-1 w-full rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500" />
        {% if recipe.recipe_image %}
        <div class="mt-3">
          <p class="text-xs text-zinc-500">Current image</p>
          <div class="mt-2 overflow-hidden rounded-xl ring-1 ring-zinc-200 dark:ring-zinc-700 bg-zinc-100 dark:bg-zinc-900">
            <img src="/media/{{recipe.recipe_image}}" alt="{{recipe.recipe_name}}" class="w-full h-56 object-cover" />
          </div>
        </div>
        {% endif %}
      </div>
      <div class="flex items-center gap-3 pt-2">
        <button type="submit" class="inline-flex items-center justify-center rounded-xl bg-emerald-500 hover:bg-emerald-600 px-5 py-3 text-white font-semibold">Save changes</button>
        <a href="/recipes/" class="inline-flex items-center justify-center rounded-xl bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 px-5 py-3 font-semibold">Cancel</a>
      </div>
    </div>
  </form>
</section>
{% endblock %}